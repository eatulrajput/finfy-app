<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Request a Loan</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom, #fff7e6, #ffedd5);
      color: var(--bs-body-color);
      transition: all 0.4s ease-in-out;
    }

    [data-theme="dark"] body {
      background: #1e1e1e;
      color: #f4f7f6;
    }

    /* Card Design */
    .card {
      background: white;
      box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
      max-width: 1000px;
      margin: 50px auto;
      padding: 30px;
      animation: fadeIn 0.8s ease-in-out;
    }

    [data-theme="dark"] .card {
      background: #131313;
      color: #f4f7f6;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Form Inputs */
    .form-control, .form-select {
      border-radius: 8px;
      box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease-in-out;
    }

    .form-control:focus, .form-select:focus {
      box-shadow: 0px 4px 15px rgba(0, 123, 255, 0.2);
      transform: scale(1.02);
    }

    /* Submit Button */
    .btn-submit {
      font-size: 1.2rem;
      font-weight: 600;
      padding: 12px;
      border-radius: 30px;
      transition: all 0.3s ease-in-out;
    }

    .btn-submit:hover {
      transform: scale(1.05);
      box-shadow: 0px 5px 15px rgba(40, 167, 69, 0.3);
    }

    /* Theme Toggle Button */
    .btn-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
      transition: 0.3s ease-in-out;
    }

    .btn-toggle:hover {
      background: #007bff;
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
    }

    [data-theme="dark"] .btn-toggle {
      background: #333;
      color: #fff;
    }

    /* Mobile Optimization */
    @media (max-width: 768px) {
      .card {
        padding: 15px;
      }

      .btn-submit {
        width: 100%;
        margin-top: 10px;
      }

      .form-label {
        font-size: 14px;
      }
    }

    /* Hover & Focus Effects on Inputs */
    .form-control:hover, .form-select:hover {
      box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.1);
    }

    .form-control:focus, .form-select:focus {
      box-shadow: 0px 4px 15px rgba(0, 123, 255, 0.2);
    }
  </style>
</head>

<body onload="loadTheme()">
 
  <!-- Loan Request Form -->
  <div class="card">
    <div class="card-body">
      <h2 class="text-center mb-4">Request a Loan</h2>

      <form action="{{ url_for('request_loan') }}" method="post">
        <div class="mb-3">
          <label for="lender_username" class="form-label">Lender's Username</label>
          <input type="text" class="form-control" name="lender_username" id="lender_username" placeholder="Enter lender's username" required>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="userGender" class="form-label">Gender</label>
            <select class="form-select" name="userGender" id="userGender" required>
              <option value="" disabled selected>Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
          </div>

          <div class="col-md-6 mb-3">
            <label for="maritalStatus" class="form-label">Marital Status</label>
            <select class="form-select" name="maritalStatus" id="maritalStatus" required>
              <option value="" disabled selected>Select Status</option>
              <option value="Single">Single</option>
              <option value="Married">Married</option>
            </select>
          </div>
        </div>

        <div class="mb-3">
          <label for="dependentsNo" class="form-label">Dependents</label>
          <input type="number" class="form-control" name="dependentsNo" id="dependentsNo" placeholder="e.g., 0, 1, 2" required>
        </div>

        <div class="mb-3">
          <label for="educationLevel" class="form-label">Education</label>
          <select class="form-select" name="educationLevel" id="educationLevel" required>
            <option value="" disabled selected>Select Education</option>
            <option value="Graduate">Graduate</option>
            <option value="Not Graduate">Not Graduate</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="employeeStatus" class="form-label">Employed</label>
          <select class="form-select" name="employeeStatus" id="employeeStatus" required>
            <option value="" disabled selected>Select Employment</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="userIncome" class="form-label">Income</label>
            <input type="number" class="form-control" name="userIncome" id="userIncome" placeholder="Enter amount" required>
          </div>
          <div class="col-md-6 mb-3">
            <label for="spouseIncome" class="form-label">Spouse's Income</label>
            <input type="number" class="form-control" name="spouseIncome" id="spouseIncome" placeholder="Enter amount" required>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="loanAmount" class="form-label">Loan Amount</label>
            <input type="number" class="form-control" name="loanAmount" id="loanAmount" placeholder="Enter amount" required>
          </div>
          <div class="col-md-6 mb-3">
            <label for="loanInstallment" class="form-label">Monthly Installment</label>
            <input type="number" class="form-control" name="loanInstallment" id="loanInstallment" placeholder="Enter amount" required>
          </div>
        </div>

        <div class="mb-3">
          <label for="creditHistory" class="form-label">Credit History</label>
          <select class="form-select" name="creditHistory" id="creditHistory" required>
            <option value="" disabled selected>Select Credit Score</option>
            <option value="1">Good (1)</option>
            <option value="0">Bad (0)</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="propertyStatus" class="form-label">Property</label>
          <input type="text" class="form-control" name="propertyStatus" id="propertyStatus" placeholder="Urban, Rural, etc." required>
        </div>

        <button type="submit" class="btn btn-success w-100 btn-submit">Submit Loan Request</button>
      </form>

      <div class="text-center mt-3">
        <a href="{{ url_for('dashboard') }}" class="btn btn-outline-primary">Back to Dashboard</a>
      </div>
    </div>
  </div>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const newTheme = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
  
      // Change toggle button icon dynamically
      document.getElementById("theme-icon").textContent = newTheme === "light" ? "üåô" : "‚òÄÔ∏è";
    }
  </script>
  
  <!-- Theme Toggle Button -->
  <button class="btn-toggle" onclick="toggleTheme()">
    <span id="theme-icon">üåô</span>
  </button>
  
</body>

</html>
